# =============================================================================
# KOKU TRAVEL - Environment Variables Template
# =============================================================================
# Copy this file to .env.local and fill in your actual values
# DO NOT commit .env.local to git (it's in .gitignore)
#
# For deployment to Vercel, add these same variables in:
# Vercel Dashboard → Project Settings → Environment Variables
# =============================================================================

# =============================================================================
# ENVIRONMENT VARIABLES CHECKLIST
# =============================================================================
# Use this checklist to track which variables you've configured:
#
# REQUIRED - Core Application (5 variables):
#   [ ] NEXT_PUBLIC_SUPABASE_URL
#   [ ] NEXT_PUBLIC_SUPABASE_ANON_KEY
#   [ ] SANITY_PROJECT_ID
#   [ ] SANITY_DATASET
#   [ ] SANITY_API_READ_TOKEN
#
# REQUIRED - Client-side Sanity (3 variables):
#   [ ] NEXT_PUBLIC_SANITY_PROJECT_ID
#   [ ] NEXT_PUBLIC_SANITY_DATASET
#   [ ] NEXT_PUBLIC_SANITY_API_VERSION
#
# HIGHLY RECOMMENDED (2 variables):
#   [ ] SUPABASE_SERVICE_ROLE_KEY (needed for server-side operations)
#   [ ] SANITY_REVALIDATE_SECRET (needed for webhook revalidation)
#
# OPTIONAL - Site Configuration:
#   [ ] NEXT_PUBLIC_SITE_URL (set after first deployment)
#
# OPTIONAL - Sanity Additional Features:
#   [ ] SANITY_API_WRITE_TOKEN
#   [ ] SANITY_PREVIEW_SECRET
#   [ ] SANITY_API_VERSION (has default: 2024-10-21)
#
# OPTIONAL - Google APIs:
#   [ ] GOOGLE_PLACES_API_KEY
#   [ ] ROUTING_GOOGLE_MAPS_API_KEY
#   [ ] GOOGLE_DIRECTIONS_API_KEY
#
# OPTIONAL - Routing:
#   [ ] ROUTING_PROVIDER
#   [ ] ROUTING_MAPBOX_ACCESS_TOKEN
#
# OPTIONAL - Error Tracking (Sentry):
#   [ ] NEXT_PUBLIC_SENTRY_DSN
#   [ ] SENTRY_DSN
#   [ ] SENTRY_RELEASE
#   [ ] NEXT_PUBLIC_SENTRY_RELEASE
#   [ ] NEXT_PUBLIC_ENABLE_ERROR_TRACKING
#   [ ] SENTRY_ENABLE_DEV
#
# OPTIONAL - Other Services:
#   [ ] NEXT_PUBLIC_OPENWEATHER_API_KEY
#   [ ] UPSTASH_REDIS_REST_URL
#   [ ] UPSTASH_REDIS_REST_TOKEN
#
# OPTIONAL - Feature Flags & Development:
#   [ ] NEXT_PUBLIC_USE_MOCK_ITINERARY
#   [ ] ENABLE_GOOGLE_PLACES
#   [ ] ENABLE_MAPBOX
#   [ ] CHEAP_MODE
#   [ ] VALIDATE_ENV
#
# OPTIONAL - Script-Only Variables (Local Development):
#   [ ] LOCAL_API_BASE_URL
#   [ ] SYNC_PLACES_BATCH_SIZE
#   [ ] EDITORIAL_SUMMARY_DELAY_MS
#   [ ] EDITORIAL_SUMMARY_ONLY_MISSING
#   [ ] WARM_CACHE_DELAY_MS
#
# =============================================================================

# =============================================================================
# REQUIRED: Supabase Configuration (2 variables)
# =============================================================================
# Get these from: Supabase Dashboard → Project Settings → API

# Your Supabase project URL
# Example: https://xxxxx.supabase.co
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url

# Supabase anonymous/public key (safe to expose in client-side code)
# Found in: Supabase Dashboard → Project Settings → API → anon public key
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key

# =============================================================================
# HIGHLY RECOMMENDED: Supabase Service Role Key
# =============================================================================
# Required for server-side operations like place details caching and seeding scripts
# Found in: Supabase Dashboard → Project Settings → API → service_role secret key
# ⚠️ SENSITIVE: Mark as "Sensitive" in Vercel
# ⚠️ NEVER expose in client-side code
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# =============================================================================
# REQUIRED: Sanity CMS - Server-side (3 variables)
# =============================================================================
# Get these from: Sanity Dashboard → Project Settings → API

# Your Sanity project ID
# Found in: Sanity Dashboard → Project Settings → Project ID
# Example: abc123xyz
SANITY_PROJECT_ID=your_sanity_project_id

# Your Sanity dataset name (usually "production")
# Found in: Sanity Dashboard → Datasets
SANITY_DATASET=production

# Sanity API read token (read-only access)
# Create at: Sanity Dashboard → Project Settings → API → Tokens → Create Read Token
# ⚠️ SENSITIVE: Mark as "Sensitive" in Vercel
SANITY_API_READ_TOKEN=your_sanity_read_token

# =============================================================================
# OPTIONAL: Sanity API Version
# =============================================================================
# Sanity API version (has default: 2024-10-21)
# Only set this if you need a different version
SANITY_API_VERSION=2024-10-21

# =============================================================================
# HIGHLY RECOMMENDED: Sanity Revalidate Secret
# =============================================================================
# Required for webhook revalidation when content is updated in Sanity
# Generate with: openssl rand -hex 32
# ⚠️ SENSITIVE: Mark as "Sensitive" in Vercel
SANITY_REVALIDATE_SECRET=your_revalidate_secret

# =============================================================================
# REQUIRED: Sanity CMS - Client-side (3 variables)
# =============================================================================
# These must have NEXT_PUBLIC_ prefix for client-side access (Sanity Studio)

# Same as SANITY_PROJECT_ID above (must have NEXT_PUBLIC_ prefix)
NEXT_PUBLIC_SANITY_PROJECT_ID=your_sanity_project_id

# Same as SANITY_DATASET above (usually "production")
NEXT_PUBLIC_SANITY_DATASET=production

# Same as SANITY_API_VERSION above (2024-10-21)
NEXT_PUBLIC_SANITY_API_VERSION=2024-10-21

# =============================================================================
# OPTIONAL: Site Configuration
# =============================================================================

# Your site URL (set AFTER first Vercel deployment)
# ⚠️ Set this AFTER your first deployment - you'll get the URL from Vercel
# Example: https://koku-travel-abc123.vercel.app
# For local development, you can use: http://localhost:3000
NEXT_PUBLIC_SITE_URL=

# =============================================================================
# OPTIONAL: Sanity CMS - Additional Features
# =============================================================================

# Sanity API write token (for scripts and content updates)
# Create at: Sanity Dashboard → Project Settings → API → Tokens → Create Write Token
# ⚠️ SENSITIVE: Mark as "Sensitive" in Vercel
SANITY_API_WRITE_TOKEN=your_sanity_write_token

# Sanity preview secret (for preview mode)
# Generate with: openssl rand -hex 32
# ⚠️ SENSITIVE: Mark as "Sensitive" in Vercel
# Note: Can be used as fallback for SANITY_REVALIDATE_SECRET
SANITY_PREVIEW_SECRET=your_random_preview_secret

# =============================================================================
# OPTIONAL: Google APIs Configuration
# =============================================================================
# Get API keys from: Google Cloud Console → APIs & Services → Credentials

# Google Places API key (for place search and details)
# Get from: Google Cloud Console → APIs & Services → Credentials
GOOGLE_PLACES_API_KEY=your_google_places_api_key

# Google Maps API key (for routing)
# Get from: Google Cloud Console → APIs & Services → Credentials
ROUTING_GOOGLE_MAPS_API_KEY=your_google_maps_api_key

# Google Directions API key (for directions)
# Get from: Google Cloud Console → APIs & Services → Credentials
GOOGLE_DIRECTIONS_API_KEY=your_google_directions_api_key

# =============================================================================
# OPTIONAL: Routing Configuration
# =============================================================================

# Routing provider (set to "mapbox" if using Mapbox routing)
# Options: mapbox (requires ROUTING_MAPBOX_ACCESS_TOKEN)
ROUTING_PROVIDER=mapbox

# Mapbox access token (for routing)
# Get from: Mapbox Dashboard → Access Tokens
# Required if ROUTING_PROVIDER=mapbox
ROUTING_MAPBOX_ACCESS_TOKEN=your_mapbox_access_token

# =============================================================================
# OPTIONAL: Error Tracking (Sentry)
# =============================================================================
# Get these from: https://sentry.io → Your Project → Settings → Client Keys (DSN)

# Sentry DSN for client-side error tracking
# Get from: Sentry Dashboard → Project Settings → Client Keys (DSN)
NEXT_PUBLIC_SENTRY_DSN=your_sentry_dsn

# Sentry DSN for server-side error tracking
# Get from: Sentry Dashboard → Project Settings → Client Keys (DSN)
SENTRY_DSN=your_sentry_dsn

# Sentry organization slug (optional, for better organization)
# Get from: Sentry Dashboard → Settings → Organization Settings
# Only needed if you want to specify the organization explicitly
SENTRY_ORG=your_sentry_org

# Sentry project slug (optional, for better organization)
# Get from: Sentry Dashboard → Project Settings → General
# Only needed if you want to specify the project explicitly
SENTRY_PROJECT=your_sentry_project

# Sentry release version (optional, for release tracking)
# Example: 1.0.0 or git commit hash
SENTRY_RELEASE=your_release_version

# Sentry release version for client-side (optional)
# Example: 1.0.0 or git commit hash
NEXT_PUBLIC_SENTRY_RELEASE=your_release_version

# Enable error tracking in production
# Set to "true" to enable Sentry error tracking
NEXT_PUBLIC_ENABLE_ERROR_TRACKING=true

# Enable Sentry in development mode (optional)
# Set to "true" to enable Sentry even in development
SENTRY_ENABLE_DEV=false

# =============================================================================
# OPTIONAL: Weather Service
# =============================================================================
# Get API key from: https://openweathermap.org/api

# OpenWeather API key (for weather data)
# Get from: OpenWeatherMap Dashboard → API Keys
NEXT_PUBLIC_OPENWEATHER_API_KEY=your_openweather_api_key

# =============================================================================
# OPTIONAL: Rate Limiting (Upstash Redis)
# =============================================================================
# Get these from: https://upstash.com → Create Database → REST API

# Upstash Redis REST URL
# Get from: Upstash Dashboard → Your Database → REST API → REST URL
# If not configured, falls back to in-memory rate limiting (suitable for local development)
UPSTASH_REDIS_REST_URL=your_upstash_redis_rest_url

# Upstash Redis REST token
# Get from: Upstash Dashboard → Your Database → REST API → REST Token
# ⚠️ SENSITIVE: Mark as "Sensitive" in Vercel
UPSTASH_REDIS_REST_TOKEN=your_upstash_redis_rest_token

# =============================================================================
# OPTIONAL: Feature Flags & Development
# =============================================================================

# Use mock itinerary data (for development/testing)
# Set to "true" to use mock data instead of generating real itineraries
NEXT_PUBLIC_USE_MOCK_ITINERARY=false

# Enable Google Places API integration
# Set to "false" to disable Google Places API (reduces API costs)
ENABLE_GOOGLE_PLACES=true

# Enable Mapbox routing integration
# Set to "false" to disable Mapbox routing (uses fallback estimates)
ENABLE_MAPBOX=true

# Enable cheap mode (disables expensive API calls)
# Set to "true" to disable expensive API calls (Google Places, Mapbox, etc.)
CHEAP_MODE=false

# Environment variable validation
# Set to "false" to disable strict environment variable validation in production
VALIDATE_ENV=true

# =============================================================================
# OPTIONAL: Script-Only Variables (Local Development)
# =============================================================================
# These are only used by local development scripts, not needed in Vercel

# Base URL for local API calls (used by scripts)
# Default: http://localhost:3000
LOCAL_API_BASE_URL=http://localhost:3000

# Batch size for syncing places (used by sync-places script)
# Default: 50
SYNC_PLACES_BATCH_SIZE=50

# Delay between requests when generating editorial summaries (ms)
# Default: 500
EDITORIAL_SUMMARY_DELAY_MS=500

# Only fill missing editorial summaries (used by generate-editorial-summaries script)
# Set to "true" to only generate summaries for places that don't have them
EDITORIAL_SUMMARY_ONLY_MISSING=false

# Delay between requests when warming place cache (ms)
# Default: 500
WARM_CACHE_DELAY_MS=500

# =============================================================================
# COMPLETE ENVIRONMENT VARIABLES REFERENCE
# =============================================================================
#
# SUMMARY BY CATEGORY:
#
# REQUIRED - Core Application (5 variables):
#   1. NEXT_PUBLIC_SUPABASE_URL
#   2. NEXT_PUBLIC_SUPABASE_ANON_KEY
#   3. SANITY_PROJECT_ID
#   4. SANITY_DATASET
#   5. SANITY_API_READ_TOKEN
#
# REQUIRED - Client-side Sanity (3 variables):
#   6. NEXT_PUBLIC_SANITY_PROJECT_ID
#   7. NEXT_PUBLIC_SANITY_DATASET
#   8. NEXT_PUBLIC_SANITY_API_VERSION
#
# HIGHLY RECOMMENDED (2 variables):
#   9. SUPABASE_SERVICE_ROLE_KEY (needed for server-side operations)
#  10. SANITY_REVALIDATE_SECRET (needed for webhook revalidation)
#
# OPTIONAL - Site & Deployment (1):
#   - NEXT_PUBLIC_SITE_URL (set after first deployment)
#
# OPTIONAL - Sanity Additional (3):
#   - SANITY_API_WRITE_TOKEN
#   - SANITY_PREVIEW_SECRET
#   - SANITY_API_VERSION (has default: 2024-10-21)
#
# OPTIONAL - Google APIs (3):
#   - GOOGLE_PLACES_API_KEY
#   - ROUTING_GOOGLE_MAPS_API_KEY
#   - GOOGLE_DIRECTIONS_API_KEY
#
# OPTIONAL - Routing (2):
#   - ROUTING_PROVIDER
#   - ROUTING_MAPBOX_ACCESS_TOKEN
#
# OPTIONAL - Error Tracking (8):
#   - NEXT_PUBLIC_SENTRY_DSN
#   - SENTRY_DSN
#   - SENTRY_ORG
#   - SENTRY_PROJECT
#   - SENTRY_RELEASE
#   - NEXT_PUBLIC_SENTRY_RELEASE
#   - NEXT_PUBLIC_ENABLE_ERROR_TRACKING
#   - SENTRY_ENABLE_DEV
#
# OPTIONAL - Other Services (3):
#   - NEXT_PUBLIC_OPENWEATHER_API_KEY
#   - UPSTASH_REDIS_REST_URL
#   - UPSTASH_REDIS_REST_TOKEN
#
# OPTIONAL - Feature Flags (5):
#   - NEXT_PUBLIC_USE_MOCK_ITINERARY
#   - ENABLE_GOOGLE_PLACES
#   - ENABLE_MAPBOX
#   - CHEAP_MODE
#   - VALIDATE_ENV
#
# OPTIONAL - Script-Only (5):
#   - LOCAL_API_BASE_URL
#   - SYNC_PLACES_BATCH_SIZE
#   - EDITORIAL_SUMMARY_DELAY_MS
#   - EDITORIAL_SUMMARY_ONLY_MISSING
#   - WARM_CACHE_DELAY_MS
#
# TOTAL: 8 required + 2 highly recommended + 30 optional = 40 environment variables
#
# SENSITIVE VARIABLES (mark as "Sensitive" in Vercel):
#   - SUPABASE_SERVICE_ROLE_KEY
#   - SANITY_API_READ_TOKEN
#   - SANITY_API_WRITE_TOKEN
#   - SANITY_REVALIDATE_SECRET
#   - SANITY_PREVIEW_SECRET
#   - GOOGLE_PLACES_API_KEY
#   - ROUTING_GOOGLE_MAPS_API_KEY
#   - GOOGLE_DIRECTIONS_API_KEY
#   - ROUTING_MAPBOX_ACCESS_TOKEN
#   - UPSTASH_REDIS_REST_TOKEN
#   - SENTRY_DSN
#   - NEXT_PUBLIC_SENTRY_DSN
#
# =============================================================================
